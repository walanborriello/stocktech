<?xml version="1.0"?>
<page layout="1column" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:noNamespaceSchemaLocation="urn:magento:framework:View/Layout/etc/page_configuration.xsd">
    <update handle="default_head_blocks"/>

    <move element="bodyinfo" destination="before.body.end"/>


    <body>
        <referenceBlock name="reviews.tab" remove="true"/>
        <referenceBlock name="product.review.form" remove="true"/>
        <referenceBlock name="product.info.review" remove="true"/>

        <referenceContainer name="header-wrapper" remove="true"/>

        <move element="content.top" destination="main" before="-"/>


        <referenceContainer name="header.container">
            <container name="bm.header.top-header-wrapper" htmlTag="div" htmlClass="header content" before="-">
                <container name="bm.header.top" htmlTag="div" htmlClass="top">


                    <block class="Magento\Theme\Block\Html\Header\Logo" name="logo">
                        <arguments>
                            <argument name="logo_img_width" xsi:type="number">189</argument>
                            <argument name="logo_img_height" xsi:type="number">64</argument>
                        </arguments>
                    </block>

                    <block class="Walan\Theme\Block\Header\Menu" name="top.search" as="topSearch"
                           template="Magento_Search::form.mini.phtml"/>


                    <!-- TOP RIGHT AREA -->
                    <container name="bm.header.top.right" htmlTag="div" htmlClass="top__right" after="bm.logo">
                        <block class="Magento\Store\Block\Switcher" name="bm.store.language"
                               template="switch/languages.phtml"/>

                        <!-- CHILDREN ITEM BLOCK TOP AREA-->
                        <block class="Magento\Customer\Block\Account\Navigation" name="bm.top.links">
                            <arguments>
                                <argument name="css_class" xsi:type="string">header links</argument>
                            </arguments>
                        </block>

                        <block class="Walan\Theme\Block\Html\ItemHeader" name="bm.search"
                               template="Walan_Theme::html/header/search.phtml" cacheable="false"/>


                        <!-- Personal Area -->
                        <container name="bm.personal.area.wrapper" htmlTag="div" htmlClass="info">

                            <container name="bm.dropdown.personal.area" htmlTag="div"
                                       htmlClass="info__personal-area-wrapper">
                                <block class="Magento\Framework\View\Element\Html\Links" name="bm.header.links"
                                       before="-">
                                    <arguments>
                                        <argument name="css_class" xsi:type="string">header links</argument>
                                    </arguments>
                                </block>


                                <referenceBlock name="bm.header.links">
                                    <block class="Magento\Customer\Block\Account\Customer"
                                           name="bm.customer"
                                           template="Walan_Theme::html/header/customer.phtml"
                                           before="-"/>
                                </referenceBlock>
                            </container>
                        </container>


                        <!-- Wishlist -->
                        <block class="Walan\Theme\Block\Html\ItemHeader" name="bm.wishlist"
                               template="Walan_Theme::html/header/wishlist.phtml" cacheable="false"/>

                        <block class="Walan\Theme\Block\Html\ItemHeader" name="bm.minicart"
                               template="Walan_Theme::html/header/minicart.phtml" cacheable="false"/>

                    </container>
                </container>


            </container>

            <referenceBlock name="skip_to_content" remove="true"/>

        </referenceContainer>


        <!-- Move children element inside bm.customer (dropdown) -->
        <move element="bm.top.links" destination="bm.customer" after="-"/>


        <referenceContainer name="content">
            <referenceBlock name="category.product.addto.wishlist" remove="true"/>
        </referenceContainer>

        <referenceContainer name="columns.top">
            <block class="Magento\Theme\Block\Html\Title" name="page.main.title"
                   template="Magento_Theme::html/title.phtml"/>
            <!--<container name="page.messages" htmlTag="div" htmlClass="page messages">
                <block class="Magento\Framework\View\Element\Template" name="ajax.message.placeholder" template="Magento_Theme::html/messages.phtml"/>
                <block class="Magento\Framework\View\Element\Messages" name="messages" as="messages" template="Walan_Theme::messages.phtml"/>
            </container>-->
        </referenceContainer>


        <referenceBlock name="messages">
            <action method="setTemplate">
                <argument name="template" xsi:type="string">Walan_Theme::messages.phtml</argument>
            </action>
        </referenceBlock>


        <!--<referenceContainer name="footer-container">-->

        <!--<referenceBlock name="footer_links">-->
        <!--<referenceBlock name="privacy-policy-link" remove="true"/>-->
        <!--<referenceBlock name="search-term-popular-link" remove="true"/>-->
        <!--<referenceBlock name="contact-us-link" remove="true"/>-->
        <!--<referenceBlock name="catalog-search-advanced-link" remove="true"/>-->
        <!--<referenceBlock name="sales-guest-form-link" remove="true"/>-->

        <!--<block class="Magento\Framework\View\Element\Html\Link\Current" name="test">-->
        <!--<arguments>-->
        <!--<argument name="label" xsi:type="string" translate="true">test</argument>-->
        <!--<argument name="path" xsi:type="string">test</argument>-->
        <!--</arguments>-->
        <!--</block>-->
        <!--</referenceBlock>-->

        <!--</referenceContainer>-->

        <referenceContainer name="footer">
            <!--<referenceBlock name="stocktech.footer" remove="true"/>-->
            <container name="bm.footer.container">
                <block class="Magento\Framework\View\Element\Template" name="bm.footer" before="-"
                       template="Walan_Theme::html/footer/footer.phtml"/>
            </container>

            <!-- Container Fifth Row -->
            <container name="bm.copyright.container">
                <block class="Magento\Framework\View\Element\Template" name="bm.copyright" before="-"
                       template="Walan_Theme::html/footer/copyright.phtml"/>
            </container>


        </referenceContainer>

        <!-- Footer link -->
        <!--<move element="stocktech.footer" destination="bm.container.footer.fourth.row" before="-"/>-->

        <!-- Messages container -->
        <move element="page.messages" destination="columns" after="bm.container-fluid.title.wrapper"/>


        <move element="minicart" destination="bm.header.top.right" after="bm.wishlist"/>

        <!-- Remove compare and wishlist sidebar-->
        <referenceBlock name="catalog.compare.sidebar" remove="true"/>
        <referenceBlock name="wishlist_sidebar" remove="true"/>
        <referenceBlock name="wish-list-link" remove="true"/>
        <referenceContainer name="sidebar.additional" remove="true"/>
        <referenceBlock name="copyright" remove="true"/>
        <referenceBlock name="form.subscribe" remove="true"/>


    </body>
</page>
